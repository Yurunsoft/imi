# v2.1-v3.0 升级指南

[toc]

## 不兼容的更改

### 框架核心

* `psr/http-message` 版本升级，请求和响应相关类的类型声明有改动

### imi-amqp

* 连接配置项有所增改，参考 [连接配置项](https://doc.imiphp.com/v3.0/components/mq/amqp.html#%E8%BF%9E%E6%8E%A5%E9%85%8D%E7%BD%AE%E9%A1%B9)

* 废弃 `Imi\AMQP\Swoole\AMQPSwooleConnection` 客户端类

* 废弃 `Imi\AMQP\Annotation\Connection` 注解类
